# 문제 설명

양의 정수 x에 대한 함수 f(x)를 다음과 같이 정의합니다.

x보다 크고 x와 비트가 1~2개 다른 수들 중에서 제일 작은 수
예를 들어,

f(2) = 3 입니다. 다음 표와 같이 2보다 큰 수들 중에서 비트가 다른 지점이 2개 이하이면서 제일 작은 수가 3이기 때문입니다.

|수|비트|다른 비트의 개수|
|--|--|--|
|2|000...0010||
|3|000...0011|1|

f(7) = 11 입니다. 다음 표와 같이 7보다 큰 수들 중에서 비트가 다른 지점이 2개 이하이면서 제일 작은 수가 11이기 때문입니다.

|수|비트|다른 비트의 개수|
|--|--|--|
|7|000...0111||
|8|000...1000|4|
|9|000...1001|3|
|10|000...1010|3|
|11|000...1011|2|

정수들이 담긴 배열 numbers가 매개변수로 주어집니다. numbers의 모든 수들에 대하여 각 수의 f 값을 배열에 차례대로 담아 return 하도록 solution 함수를 완성해주세요.

## 제한 사항

- 1 ≤ numbers의 길이 ≤ 100,000
- 0 ≤ numbers의 모든 수 ≤ 10^15

## 입출력 예

|numbers|result|
|--|--|
|[2,7]|[3,11]|

### 설명

입출력 예 #1

문제 예시와 같습니다.

<br />
<br />
<br />

# 풀이

### 사용 언어

Javascript

### 제출 코드

```
function solution(numbers) {
    return numbers.map(v => {
        let str = '0'+v.toString(2);
        if(str[str.length-1] === '0') {
            str = str.substring(0, str.length-1) + '1';
        } else {
            const idx = str.lastIndexOf('01');
            str = str.substring(0,idx) + '10' + str.substring(idx+2, str.length);
        }
        
        return parseInt(str, 2);
    })
}
```

### 북마크 코드

- reduce 사용이 인상적

```
const tupleFrom = (str) =>
  str.slice(2, -2).split('},{')
    .map((it) => toNumbers(it))
    .sort(accendingByLength)
    .reduce((acc, cur) =>
      [...acc, ...cur.filter((it) => !acc.includes(it))], []);

const toNumbers = (str) => str.split(',').map(it => Number(it));

const accendingByLength = (arr1, arr2) => arr1.length - arr2.length;

const solution = (s) => tupleFrom(s);
```

- set을 사용하는 것을 생각했으나, 활용법을 몰랐는데 유용

```
function solution(s) {
    let answer = [];

    let newArr = JSON.parse(s.replace(/{/g,'[').replace(/}/g,']'));
    newArr.sort((a, b) => {return a.length - b.length});
    let temp = [];
    for(let i = 0; i < newArr.length; i++) {
        for(let j = 0; j < newArr[i].length; j++) {
            temp.push(newArr[i][j]);
        }
    }
    answer = [...new Set(temp)];
    return answer;
}

```

## 참고
([프로그래머스 Lv.2] 2개 이하로 다른 비트 (js)
)[https://parkparkpark.tistory.com/103]